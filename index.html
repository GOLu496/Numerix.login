<!DOCTYPE html>
<html>
<head>
  <title>Login with Google</title>
  <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-auth-compat.js"></script>
</head>
<body>
  <button onclick="googleLogin()">Login with Google</button>
  <script>
    const firebaseConfig = {
      apiKey: "AIzaSyC100i-P3BxKAe6dmN1dI2OGC8DNpTpW2k",
      authDomain: "numerix-80316.firebaseapp.com",
    };
    firebase.initializeApp(firebaseConfig);

    function googleLogin() {
      const provider = new firebase.auth.GoogleAuthProvider();
      firebase.auth().signInWithPopup(provider).then((result) => {
        const user = result.user;
        const userData = {
          name: user.displayName,
          email: user.email,
          photo: user.photoURL,
          uid: user.uid
        };
        window.location.href = "https://kodular-login-test.web.app/?data=" + encodeURIComponent(JSON.stringify(userData));
      }).catch((error) => {
        alert("Login Failed: " + error.message);
      });
    }
  </script>
</body>
</html>
