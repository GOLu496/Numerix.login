<!DOCTYPE html>
<html>
  <head>
    <title>Login</title>
    <script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.12.2/firebase-auth-compat.js"></script>

    <script>
     const firebaseConfig = {
  apiKey: "AIzaSyC100i-P3BxKAe6dmN1dI2OGC8DNpTpW2k",
  authDomain: "numerix-80316.firebaseapp.com",
  databaseURL: "https://numerix-80316-default-rtdb.asia-southeast1.firebasedatabase.app",
  projectId: "numerix-80316",
  storageBucket: "numerix-80316.firebasestorage.app",
  messagingSenderId: "441337086133",
  appId: "1:441337086133:web:5fcc3e85f381601821fefc",
  measurementId: "G-K291MLNV2W"
};

      firebase.initializeApp(firebaseConfig);
      const auth = firebase.auth();

      function login() {
        const provider = new firebase.auth.GoogleAuthProvider();
        auth.signInWithRedirect(provider);
      }

      // Check for redirect result after login
      auth.getRedirectResult().then((result) => {
        if (result.user) {
          // Success: Send signal to Kodular app
          if (window.AppInventor) {
            window.AppInventor.setWebViewString("login_success");
          } else {
            document.body.innerHTML = "<h2>Login Successful!<br>You can close this tab.</h2>";
          }
        }
      }).catch((error) => {
        console.error(error);
        document.body.innerHTML = `<h3 style="color:red;">Error: ${error.message}</h3>`;
      });
    </script>
  </head>
  <body style="text-align:center; margin-top:100px;">
    <h1>Login Page</h1>
    <button onclick="login()" style="padding: 15px 30px; font-size: 18px;">Login with Google</button>
  </body>
</html>
